{% extends "base.html" %}

{% block content %}
<div class="top-left">
    <a href="/delete_user?email={{ session['user']['email'] }}" name="delete_user" class="btn btn--secondary">Delete Account</a>
</div>

<div class="card-wrapper">

    <div class="card">

        <h1 class="center">Dashboard</h1>
        <p class="center">You are currently logged in.</p>

        <div class="center">
            <a href="/user/signout" class="btn btn--secondary">Sign Out</a>
        </div>
        <br>
        <br>
        <p class="center">
            To see news from the topics you are interested in press the button below.
        </p>
        <br>
        <br>
        <div class="center">
            <a href="/news" class="btn btn--secondary">See news</a>
        </div>


    </div>

    <div class="card">

        <h2 class="center">Your Info</h2>

        <p>
            <strong>Name:</strong> {{ session['user']['name'] }}
            <strong>Email:</strong> {{ session['user']['email'] }}
        </p>

        <h2>Add your city</h2>

        <form action="/insert_city?email={{ session['user']['email'] }}" method="post">
        <label for="cityname">City name:</label><br>
        <input type="text" id="cityname" name="cityname"><br><br>
        <button type="submit" class="btn btn--secondary">Submit</button>
        <br>
        <p>
            <strong>Selected topics:</strong> {{ ', '.join(session['user']['keywords']) }}
        </p>
        <p>
            <strong>Your city:</strong> {{ session['user']['city_name'] }}
        </p>

        </form>
        
    </div>

    <div class="card">

        <h2>Choose the topic you are interested in</h2>

        <p>You can choose more than one topic.</p>

        <form action="/insert_topics?email={{ session['user']['email'] }}" method="post">
            <input type="checkbox" id="topic1" name="topics" value="technology">
            <label for="topic1">Technology</label>
            <input type="checkbox" id="topic2" name="topics" value="business">
            <label for="topic2">Business</label>
            <input type="checkbox" id="topic3" name="topics" value="politics">
            <label for="topic3">Politics</label>
            <input type="checkbox" id="topic4" name="topics" value="science">
            <label for="topic4">Science</label>
            <input type="checkbox" id="topic5" name="topics" value="health">
            <label for="topic5">Health</label>
            <input type="checkbox" id="topic6" name="topics" value="sports">
            <label for="topic6">Sports</label>
            <input type="checkbox" id="topic7" name="topics" value="entertainment">
            <label for="topic7">Entertainment</label>
            <input type="checkbox" id="topic8" name="topics" value="environment">
            <label for="topic8">Environment</label>
            <button type="submit" class="btn btn--secondary">Submit</button>
        </form> 
        
    </div>
</div>

{% endblock %}